(function(e,c,a,h){var d="scrolly",g={bgParallax:false},f=false;function b(j,i){this.element=j;this.$element=e(this.element);this.options=e.extend({},g,i);this._defaults=g;this._name=d;this.init()}b.prototype.init=function(){var i=this;this.startPosition=this.$element.position().top;this.offsetTop=this.$element.offset().top;this.height=this.$element.outerHeight(true);this.velocity=this.$element.attr("data-velocity");this.bgStart=parseInt(this.$element.attr("data-fit"),10);e(a).scroll(function(){i.didScroll=true});setInterval(function(){if(i.didScroll){i.didScroll=false;i.scrolly()}},10)};b.prototype.scrolly=function(){var k=e(c).scrollTop(),j=e(c).height(),i=this.startPosition;if(this.offsetTop>=(k+j)){this.$element.addClass("scrolly-invisible")}else{if(this.$element.hasClass("scrolly-invisible")){i=this.startPosition+(k+(j-this.offsetTop))*this.velocity}else{i=this.startPosition+k*this.velocity}}if(this.bgStart){i=i+this.bgStart}if(this.options.bgParallax===true){this.$element.css({backgroundPosition:"50% "+i+"px"})}else{this.$element.css({top:i})}};e.fn[d]=function(i){return this.each(function(){if(!e.data(this,"plugin_"+d)){e.data(this,"plugin_"+d,new b(this,i))}})}})(jQuery,window,document);
